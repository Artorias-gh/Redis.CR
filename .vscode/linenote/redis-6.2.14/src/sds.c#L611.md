buf != staticbuf 表示buflen超出sizeof(staticbuf)，重新在堆上分配的。